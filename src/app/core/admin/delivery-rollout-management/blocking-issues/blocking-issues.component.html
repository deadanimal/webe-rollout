<div class="header pb-6">
  <div class=" container-fluid">
    <div class=" header-body">
      <div class=" row align-items-center py-4">
        <div class=" col-lg-6 col-7">
          <h6 class=" h2 text-dark d-inline-block mb-0">
            Blocking Issues
          </h6>

          <nav
            aria-label="breadcrumb"
            class=" d-none d-md-inline-block ml-md-4"
          >
            <ol class=" breadcrumb breadcrumb-links breadcrumb-dark">
              <li class=" breadcrumb-item">
                <a href="javascript:void(0)"> <i class=" fas fa-home"> </i> </a>
              </li>
            </ol>
          </nav>
        </div>

        <div class=" col-lg-6 col-5 text-right">
          <button
            class="btn btn-default"
            (click)="open(classic2, 'modal_mini', 'sm', 'Add New')"
          >
            Add New
          </button>

          <ng-template #classic1 let-c="close" let-d="dismiss">
            <div class="modal-content">
              <div class="modal-body p-0">
                <div class="card bg-secondary shadow border-0">
                  <div class="card-header bg-default">
                    <div class="text-muted text-center mb-3">
                      <h2 class=" mb-0 text-white">{{ processTitle }}</h2>
                    </div>
                  </div>
                  <div class="card-body px-lg-5 py-lg-5">
                    <form>
                      <div class="form-group">
                        <label>Activity ID</label>
                        <input
                          type="text"
                          class="form-control"
                          placeholder="Enter activity id"
                          [(ngModel)]="formInput.activityid"
                          [ngModelOptions]="{ standalone: true }"
                        />
                      </div>
                      <div class="form-group">
                        <label>Activity Description</label>
                        <textarea
                          class="form-control"
                          placeholder="Enter activity description"
                          rows="3"
                          [(ngModel)]="formInput.activitydescription"
                          [ngModelOptions]="{ standalone: true }"
                        ></textarea>
                      </div>
                      <div class="form-group">
                        <label>Start Date</label>
                        <input
                          class="form-control"
                          type="date"
                          [(ngModel)]="formInput.startdate"
                          [ngModelOptions]="{ standalone: true }"
                        />
                      </div>
                      <div class="form-group">
                        <label>End Date</label>
                        <input
                          class="form-control"
                          type="date"
                          [(ngModel)]="formInput.enddate"
                          [ngModelOptions]="{ standalone: true }"
                        />
                      </div>
                      <div class="form-group">
                        <label>Rollout Delivery</label>
                        <div class="row">
                          <div class="col">
                            <select class="form-control">
                              <option value="" selected
                                >Please select location</option
                              >
                              <option
                                [value]="location"
                                *ngFor="let location of locations"
                                >{{ location }}</option
                              >
                            </select>
                          </div>
                          <div class="col">
                            <select class="form-control">
                              <option value="" selected
                                >Please select location</option
                              >
                              <option
                                [value]="location"
                                *ngFor="let location of locations"
                                >{{ location }}</option
                              >
                            </select>
                          </div>
                        </div>
                      </div>
                      <div class="form-group">
                        <label>Available Crew</label>
                        <select class="form-control">
                          <option value="" selected>Please select crew</option>
                          <option [value]="crew" *ngFor="let crew of crews">{{
                            crew
                          }}</option>
                        </select>
                      </div>
                      <div class="text-center">
                        <button class="btn btn-default">
                          Submit
                        </button>
                        <button
                          class="btn btn-secondary"
                          data-dismiss="modal"
                          (click)="c('Close click')"
                        >
                          Cancel
                        </button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </ng-template>

          <ng-template #classic2 let-c="close" let-d="dismiss">
            <div class="modal-content">
              <div class="modal-body p-0">
                <div class="card bg-secondary shadow border-0">
                  <div class="card-header bg-default">
                    <div class="text-muted text-center mb-3">
                      <h2 class=" mb-0 text-white">{{ processTitle }}</h2>
                    </div>
                  </div>
                  <div class="card-body">
                    <div class="row">
                      <div class="col-6">
                        <div class="form-group">
                          <label>Block Issue ID</label>
                          <input
                            type="text"
                            class="form-control form-control-sm"
                          />
                        </div>
                        <div class="form-group">
                          <label>Site Location</label>
                          <input
                            type="text"
                            class="form-control form-control-sm"
                          />
                        </div>
                        <div class="form-group">
                          <label>Missing Items</label>
                          <input
                            type="text"
                            class="form-control form-control-sm"
                          />
                        </div>
                        <div class="form-group">
                          <label>Unfinished Work</label>
                          <input
                            type="text"
                            class="form-control form-control-sm"
                          />
                        </div>
                        <div class="form-group">
                          <label>Network Element</label>
                          <input
                            type="text"
                            class="form-control form-control-sm"
                          />
                        </div>
                      </div>
                      <div class="col-6">
                        <div class="form-group">
                          <label>Punchlist Item</label>
                          <input
                            type="date"
                            class="form-control form-control-sm"
                          />
                        </div>
                        <div class="form-group">
                          <label>Punchlist Date</label>
                          <input
                            type="date"
                            class="form-control form-control-sm"
                          />
                        </div>
                        <div class="form-group">
                          <label>Severity</label><br />
                          <div
                            class="custom-control custom-radio custom-control-inline"
                          >
                            <input type="radio" class="custom-control-input" />
                            <label class="custom-control-label">Major</label>
                          </div>
                          <div
                            class="custom-control custom-radio custom-control-inline"
                          >
                            <input type="radio" class="custom-control-input" />
                            <label class="custom-control-label">Minor</label>
                          </div>
                        </div>
                        <div class="form-group">
                          <label>Target Close Date</label>
                          <input
                            class="form-control form-control-sm"
                            type="date"
                          />
                        </div>
                        <div class="form-group">
                          <label>Actual Close Date</label>
                          <input
                            class="form-control form-control-sm"
                            type="date"
                          />
                        </div>
                      </div>
                    </div>
                    <div class="text-center">
                      <button class="btn btn-default">
                        Submit
                      </button>
                      <button
                        class="btn btn-secondary"
                        data-dismiss="modal"
                        (click)="c('Close click')"
                      >
                        Cancel
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </ng-template>
        </div>
      </div>
    </div>
  </div>
</div>

<div class=" container-fluid mt--6">
  <div class="row">
    <div class="col">
      <div class="card">
        <div class="card-body">
          <div id="chartdiv" style="width: 100%; height: 400px"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <div class="card">
        <div class="card-header">
          <h3 class=" mb-0">List</h3>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-4">
              <div class="form-group">
                <input
                  type="text"
                  class="form-control"
                  placeholder="Enter activity id"
                  [(ngModel)]="searchInput.activityid"
                />
              </div>
            </div>
            <div class="col-4">
              <div class="form-group">
                <input
                  type="text"
                  class="form-control"
                  placeholder="Enter boq id"
                  [(ngModel)]="searchInput.boqid"
                />
              </div>
            </div>
            <div class="col-4">
              <div class="form-group">
                <input
                  type="text"
                  class="form-control"
                  placeholder="Enter bom id"
                  [(ngModel)]="searchInput.bomid"
                />
              </div>
            </div>
          </div>
          <div class="text-center">
            <button class="btn btn-warning" (click)="searchTable()">
              Search
            </button>
            <button class="btn btn-secondary" (click)="resetTable()">
              Reset
            </button>
          </div>
        </div>
        <div class="dataTables_wrapper py-4">
          <div class="row">
            <div class="col-sm-12 col-md-6">
              <div class="dataTables_length" id="datatable_length">
                <label>
                  Show
                  <select
                    name="datatable_length"
                    aria-controls="datatable"
                    class="form-control form-control-sm"
                    (change)="entriesChange($event)"
                  >
                    <option value="5" [selected]="entries == 5">5</option>
                    <option value="10" [selected]="entries == 10">10</option>
                    <option value="25" [selected]="entries == 25">25</option>
                    <option value="50" [selected]="entries == 50">50</option>
                    <option value="-1" [selected]="entries == -1">All</option>
                  </select>
                  entries
                </label>
              </div>
            </div>
            <!-- <div class="col-sm-12 col-md-6">
                          <div id="datatable_filter" class="dataTables_filter">
                            <label>
                              <input
                                type="search"
                                class="form-control form-control-sm"
                                placeholder="Search records"
                                aria-controls="datatable"
                                (keyup)="filterTable($event)"
                              />
                            </label>
                          </div>
                        </div> -->
          </div>

          <ngx-datatable
            class="bootstrap selection-cell"
            [columnMode]="'force'"
            [headerHeight]="50"
            [footerHeight]="50"
            [rowHeight]="'auto'"
            [limit]="entries != -1 ? entries : undefined"
            [rows]="temp"
            (activate)="onActivate($event)"
          >
            <ngx-datatable-column name="activityid"></ngx-datatable-column>
            <ngx-datatable-column name="boqid">
              <ng-template
                let-row="row"
                let-value="value"
                ngx-datatable-cell-template
              >
                ({{ value }})<br />
                <button class="btn btn-warning btn-sm" (click)="view(boq)">
                  <i class="fas fa-eye"></i>
                </button>
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="bomid">
              <ng-template
                let-row="row"
                let-value="value"
                ngx-datatable-cell-template
              >
                ({{ value }})<br />
                <button class="btn btn-warning btn-sm" (click)="view(bom)">
                  <i class="fas fa-eye"></i>
                </button>
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="site"></ngx-datatable-column>
            <ngx-datatable-column name="enddate"></ngx-datatable-column>
            <ngx-datatable-column name="status">
              <ng-template
                let-row="row"
                let-value="value"
                ngx-datatable-cell-template
              >
                <span *ngIf="value == 'complete'" class="badge badge-success">
                  complete
                </span>

                <span *ngIf="value == 'pending'" class="badge badge-warning">
                  pending
                </span>

                <span *ngIf="value == 'not started'" class="badge badge-danger">
                  not started
                </span>
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Actions" sortable="false" prop="id">
              <ng-template
                let-row="row"
                let-value="value"
                ngx-datatable-cell-template
              >
                <button
                  class="btn btn-default btn-sm"
                  (click)="edit(row, classic1)"
                >
                  <i class="fas fa-edit"></i>
                </button>

                <button class="btn btn-danger btn-sm" (click)="delete(value)">
                  <i class="fas fa-trash"></i>
                </button>
              </ng-template>
            </ngx-datatable-column>
          </ngx-datatable>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #boq let-c="close" let-d="dismiss">
  <div class="modal-content">
    <div class="modal-body p-0">
      <div class="card bg-secondary shadow border-0">
        <div class="card-header bg-warning">
          <div class="text-muted text-center mb-3">
            <h2 class=" mb-0 text-white">BOQ (Bill of Quantity)</h2>
          </div>
        </div>
        <div class="card-body">
          <div class=" table-responsive">
            <table class=" table">
              <tr>
                <td>Project</td>
                <td>Telecommunication Worldwide</td>
                <td>Project No</td>
                <td colspan="2">198762</td>
              </tr>
              <tr>
                <td>Document Title</td>
                <td>Plant a cellular tower in rural area</td>
                <td>Prepared By</td>
                <td>Check By</td>
                <td>Date</td>
              </tr>
              <tr>
                <td></td>
                <td></td>
                <td>Abu</td>
                <td>Umar</td>
                <td>2020-03-13</td>
              </tr>
            </table>
          </div>

          <div class="alert alert-default" role="alert">
            <strong
              >Note: Scroll from right to left to see more detail of the below
              table.</strong
            >
          </div>
          <div class=" table-responsive pt-3">
            <table class=" table align-items-center table-flush">
              <thead class=" thead-light">
                <tr>
                  <th scope="col">Item No.</th>

                  <th scope="col" style="min-width: 10px">Description</th>

                  <th scope="col">Unit</th>

                  <th scope="col">Quantity</th>

                  <th scope="col">Rate</th>

                  <th scope="col">Amount</th>
                </tr>
              </thead>

              <tbody class=" list">
                <tr>
                  <td>1</td>
                  <td>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed
                    do eiusmod tempor incididunt ut labore et dolore magna
                    aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                    ullamco laboris nisi ut aliquip ex ea commodo consequat
                  </td>
                  <td>12</td>
                  <td>96</td>
                  <td>14%</td>
                  <td>4,350</td>
                </tr>

                <tr>
                  <td>2</td>
                  <td>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed
                    do eiusmod tempor incididunt ut labore et dolore magna
                    aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                    ullamco laboris nisi ut aliquip ex ea commodo consequat
                  </td>
                  <td>54</td>
                  <td>14</td>
                  <td>67%</td>
                  <td>5,050</td>
                </tr>

                <tr>
                  <td>3</td>
                  <td>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed
                    do eiusmod tempor incididunt ut labore et dolore magna
                    aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                    ullamco laboris nisi ut aliquip ex ea commodo consequat
                  </td>
                  <td>34</td>
                  <td>287</td>
                  <td>23%</td>
                  <td>3,700</td>
                </tr>

                <tr>
                  <td>4</td>
                  <td>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed
                    do eiusmod tempor incididunt ut labore et dolore magna
                    aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                    ullamco laboris nisi ut aliquip ex ea commodo consequat
                  </td>
                  <td>65</td>
                  <td>192</td>
                  <td>20%</td>
                  <td>10,400</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #bom let-c="close" let-d="dismiss">
  <div class="modal-content">
    <div class="modal-body p-0">
      <div class="card bg-secondary shadow border-0">
        <div class="card-header bg-warning">
          <div class="text-muted text-center mb-3">
            <h2 class=" mb-0 text-white">BOM (Bill of Material)</h2>
          </div>
        </div>
        <div class="card-body">
          <div class="alert alert-default" role="alert">
            <strong
              >Note: Scroll from right to left to see more detail of the below
              table.</strong
            >
          </div>
          <div class=" table-responsive pt-3">
            <table class=" table align-items-center table-flush">
              <thead class=" thead-light">
                <tr>
                  <th scope="col">No.</th>

                  <th scope="col">Vendor</th>

                  <th scope="col">Type of Material</th>

                  <th scope="col">Grouping</th>

                  <th scope="col">Material ID</th>

                  <th scope="col">Material Name</th>

                  <th scope="col">Material Code</th>

                  <th scope="col">Unit of Measure</th>

                  <th scope="col">Price</th>

                  <th scope="col">Serial No</th>
                </tr>
              </thead>

              <tbody class=" list">
                <tr>
                  <td>1</td>
                  <td>Pipeline</td>
                  <td>Antenna</td>
                  <td>Public</td>
                  <td>763966</td>
                  <td>Tungsten</td>
                  <td>MT859604</td>
                  <td>Tan</td>
                  <td>1,004,546</td>
                  <td>SERIAL758490</td>
                </tr>

                <tr>
                  <td>2</td>
                  <td>Netsecurity</td>
                  <td>Satellite</td>
                  <td>Private</td>
                  <td>1235642</td>
                  <td>Metal</td>
                  <td>MT96745</td>
                  <td>Tan</td>
                  <td>98,456,700</td>
                  <td>SERIAL98657</td>
                </tr>

                <tr>
                  <td>3</td>
                  <td>AI Master</td>
                  <td>Radio</td>
                  <td>Private</td>
                  <td>95312485921</td>
                  <td>Steel</td>
                  <td>MT12355</td>
                  <td>Tan</td>
                  <td>2,452,674</td>
                  <td>SERIAL46743</td>
                </tr>

                <tr>
                  <td>4</td>
                  <td>DataBesar</td>
                  <td>Receiver</td>
                  <td>Public</td>
                  <td>57395736</td>
                  <td>Aluminium</td>
                  <td>MT1244</td>
                  <td>Tan</td>
                  <td>505,567</td>
                  <td>SERIAL431232</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>
